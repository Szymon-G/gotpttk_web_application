{% extends "index.html.twig" %}
{% block stylesheets %}
	<link href="https://fonts.googleapis.com/css?family=Didact+Gothic&display=swap" rel="stylesheet">
	<link href="{{ asset('../public/assets/css/index.css') }}" rel="stylesheet">
	<link href="{{ asset('../public/assets/css/button.css') }}" rel="stylesheet">
	<link href="{{ asset('../public/assets/css/createTrail.css') }}" rel="stylesheet">
{% endblock %}
{% block body %}
	{% if logged %}
		{{ include('headerTourist.html.twig') }}
	{% else %}
		{{ include('header.html.twig') }}
	{% endif %}
	{% if date is not defined %}
		{% include('alert.html.twig') with {'title':'Podaj datę odbycia wycieczki', 'buttonText':'Dalej', 'content':'calender'} %}
	{% endif %}
	<div class="container">
		<div class="content">
			<h3 class="content__title">Utwórz trasę</h3>
			<div class="box">
				<form class="form" action="./trailsList">
					<input type="submit" value="Zapisz" class=" button box__button">
				</form>
				<form class="box__nav" action="./addSection" method="get">
					{% if currentTrailId is defined %}
						<input type="hidden" name="endPoint" value={{currentTrailId}}/>
					{% endif %}
					<input class="link button box__nav__button" type="submit" value="Dodaj odcinek z bazy danych"/>
					<a class="link button box__nav__button" href="./createOwnSection">Dodaj własny odcinek</a>
				</form>
				<div class="box__trail">
					<div class="box__trail__grid">
						<div class="box__trail__row box__trail__row--header">
							{% if date is defined or sections is defined %}
								<div>{{date}}</div>
							{% else %}
								<div>Data</div>
							{% endif %}
							<div>Punkty</div>
							<div>Grupa górska</div>
							<div></div>
						</div>
						{% if sections is defined %}
							{% for section in sections %}
								<div class="box__trail__row">
									<div>{{section.getStartPointName()}}
										-
										{{section.getEndPointName()}}</div>
									<div>{{section.pointsGOT()}}</div>
									<div>{{section.getMountainGroupName()}}
										{{section.getMountainGroupCode()}}</div>
									<div>
										<form action="./createTrail" method="POST">
											<input type="hidden" value={{section.getIdS()}} name="deleteSectionId"/>
											<button class="box__trail__row__delete_btn">
												<div id="cross"></div>
											</button>
										</form>
									</div>
								</div>
							{% endfor %}
							<p class="box__trail__grid__sum">Suma punktów:
								{% if sumOfPoints is defined %}
									{{sumOfPoints}}
								{% endif %}
							</p>
						{% else %}
							<p class="box__trail__content">Ups.. wygląda na to że nie dodałeś jeszcze żadnego odcinka</p>
						{% endif %}
					</div>
				</div>
				<a class="link button box__button" href="./">Powrót</a>
			</div>
		</div>
	</div>


	{{ include('footer.html.twig') }}
{% endblock %}
